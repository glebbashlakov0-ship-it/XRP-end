# XRP Restaking

Инструкция по локальному запуску и отладке регистрации.

## Требования
- Node.js 18+
- npm

## Подготовка окружения
1. Скопируйте переменные окружения и заполните SMTP для отправки писем:
   ```bash
   cp .env.example .env
   # отредактируйте .env, пропишите SMTP_HOST/PORT/USER/PASS/FROM
   ```
2. Установите зависимости:
   ```bash
   npm install
   ```
3. Примените миграции Prisma (создаст `prisma/dev.db`):
   ```bash
   npx prisma migrate dev
   ```

## Запуск
```bash
npm run dev
```
Приложение будет доступно на http://localhost:3000.

## Регистрация и подтверждение email
- Перейдите на `/register`, введите email и пароль. Созданный аккаунт автоматически получает токен подтверждения.
- Письмо с ссылкой приходит на адрес из формы (нужны корректные SMTP-настройки в `.env`).
- Если письмо не пришло, используйте кнопку **Resend link** на экране после регистрации — отправка учитывает кулдаун.
- После перехода по ссылке `/verify-email?token=...` статус `emailVerifiedAt` обновится, и можно входить через `/login`.

## Полезные команды
- Перегенерация клиента Prisma после правок схемы:
  ```bash
  npx prisma generate
  ```
- Проверка линтером (ESLint):
  ```bash
  npm run lint
  ```
